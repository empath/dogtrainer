# dogtrainer

Build of master branch: [![Circle CI](http://circleci.aws-dev.manheim.com/gh/Manheim/dogtrainer/tree/master.svg?style=svg&circle-token=ae0b664afb383f42c4650e71844b7dcd78ce67ea)](http://circleci.aws-dev.manheim.com/gh/Manheim/dogtrainer/tree/master)

Documentation: [http://www.rubydoc.info/gems/dogtrainer/](http://www.rubydoc.info/gems/dogtrainer/)

## manheim-gem skeleton TODO

This is a gem skeleton generated by the ``manheim-gem`` command, from the [manheim_helpers](http://github.ove.local/ReleaseEngineering/manheim_helpers) gem. Now that you've got the skeleton of a RubyGem (see the [skeleton's README.md](http://github.ove.local/ReleaseEngineering/manheim-gem-skeleton/blob/master/README.md) for a list of features and what it provides), here's what you need to do to finish it up and start coding:

1. If you need a command-line wrapper, add configuration for that in ``lib/dogtrainer/cli.rb``. If you need to update the name of the command, move ``bin/dogtrainer`` and update the command name here in ``README.md`` and in ``lib/dogtrainer/cli.rb``. If you don't need a command-line wrapper, remove ``bin/``, ``lib/dogtrainer/cli.rb`` and ``spec/unit/cli_spec.rb``, as well as any references to the class and file and the ``gem.executables`` line in ``dogtrainer.gemspec``.
2. Rename ``someclass.rb`` to whatever class you want, and fill out the rest of the module and spec tests. You can use ``lib/dogtrainer/someclass.rb`` and ``spec/unit/someclass_spec.rb`` as examples for how to create classes (i.e. comment formatting, logging, testing, etc.).
3. Be sure to fill in spec tests for your code.
4. Edit ``circle.yml`` to include the correct ruby versions to test against. See the CircleCI Enterprise documentation or Release Engineering for a list of currently-supported versions.
5. Grep the skeleton directory for "TODO"; any instances of it are either (1) areas that need further manual attention, or (2) settings or variables that weren't specified on the command line, and need to be filled in.
6. Fill in the relevant sections in this README, below. If this is a private repository, after you set it up in CircleCI, you must add a ``&circle-token=<token>`` parameter with a valid API token for the repository to the Circle CI badge URL above; see the [CircleCI Embeddable Status Badges docs](https://circleci.com/docs/status-badges) for more information, or the "Project Settings -> Status Badges" page for the project.
7. Run ``bundle exec rake yard:serve`` to generate documentation for your Gem and serve it live at [http://localhost:8808](http://localhost:8808), and ensure it looks correct.
8. Finally, remove this section from this file and commit the result.
9. Setup a repository on GitHub for the gem. If you specified ``--reposlug`` when running ``manheim-gem``, the ``origin`` remote should already be configured; otherwise, ``git remote add origin git@github.ove.local:ORGNAME/REPONAME.git``. Then ``git push origin master`` to push your current repo to origin.
10. Setup the repository in [CircleCI](http://circleci.aws-dev.manheim.com/) using the [Add Projects](http://circleci.aws-dev.manheim.com/add-projects) link on the left toolbar. If you do _not_ want to support documentation for the Gem on GitHub, remove the ``bundle exec rake yard:generate`` and ``bundle exec rake yard:publish_ghpages`` commands from ``circle.yml``. Otherwise, follow our [documentation for giving CircleCI read/write access to a repo](https://wiki.eng.manheim.com/display/RE/Circle+CI#CircleCI-PushtoGitHub%28i.e.tagrepo%29) when configuring the repository, and also set the ``ARTIFACTORY_USER`` and ``ARTIFACTORY_PASSWORD`` environment variables to valid Artifactory credentials (in Project Settings -> Environtment variables).
11. Push something else to the repo, and check the CircleCI build.

## Installation

To use the ``dogtrainer`` command, simply:

``gem install --source https://artifactory.aws-dev.manheim.com/artifactory/api/gems/all-gems dogtrainer``

to make it available on your system (if you use [rvm](https://rvm.io/) or [rbenv](http://rbenv.org/), be sure to activate your preferred ruby version first).

To use the module, add ``dogtrainer`` to your project's ``Gemfile`` or ``.gemspec`` (making sure it specifies a source of ``https://artifactory.aws-dev.manheim.com/artifactory/api/gems/all-gems``).

## Usage

How to use dogtrainer / DogTrainer. CLI scripts should have clear usage documentation, including the ``--help`` output. Modules and Classes should have some introduction, and a pointer to the RubyDocs for them.

## Development

1. ``bundle install --path vendor``
2. ``bundle exec rake pre_commit`` to ensure spec tests are passing and style is valid before making your changes
3. make your changes, and write spec tests for them. You can run ``bundle exec guard`` to continually run spec tests and rubocop when files change.
4. ``bundle exec rake pre_commit`` to confirm your tests pass and your style is valid. You should confirm 100% coverage. If you wish, you can run ``bundle exec guard`` to dynamically run rspec, rubocop and YARD when relevant files change.
5. Update ``ChangeLog.md`` for your changes.
6. Run ``bundle exec rake yard:serve`` to generate documentation for your Gem and serve it live at [http://localhost:8808](http://localhost:8808), and ensure it looks correct.
7. Open a pull request for your changes.
8. When shipped, merge the PR. CircleCI will test and, if you've bumped the version number in ``lib/dogtrainer/version.rb`` and the tests pass, will build and deploy the new Gem as well as the YARD documentation.

When running inside CircleCI, rspec will place reports and artifacts under the right locations for CircleCI to archive them. When running outside of CircleCI, coverage reports will be written to ``coverage/`` and test reports (HTML and JUnit XML) will be written to ``results/``.
